# ๐ ุฏููู ุชุดุบูู ูุธุงู ุฅุฏุงุฑุฉ ุงูุฎูุงุฌุฉ - ุงูุฅูุชุงุฌ

## ๐ ุฌุฏูู ุงููุญุชููุงุช
1. [ูุธุฑุฉ ุนุงูุฉ ุนูู ุงููุธุงู](#ูุธุฑุฉ-ุนุงูุฉ)
2. [ูุชุทูุจุงุช ุงูุชุดุบูู](#ูุชุทูุจุงุช-ุงูุชุดุบูู)
3. [ุทุฑู ุชุดุบูู ุงููุธุงู](#ุทุฑู-ุชุดุบูู-ุงููุธุงู)
4. [ุงููุฑุงูุจุฉ ูุงูุตูุงูุฉ](#ุงููุฑุงูุจุฉ-ูุงูุตูุงูุฉ)
5. [ุงุณุชูุดุงู ุงูุฃุฎุทุงุก](#ุงุณุชูุดุงู-ุงูุฃุฎุทุงุก)

---

## ๐ฏ ูุธุฑุฉ ุนุงูุฉ ุนูู ุงููุธุงู {#ูุธุฑุฉ-ุนุงูุฉ}

ูุธุงู ุฅุฏุงุฑุฉ ุงูุฎูุงุฌุฉ ูู ูุธุงู CRM ูุชูุงูู ูุจูู ุนูู Django ูุชุถูู:

### ุงูููููุงุช ุงูุฃุณุงุณูุฉ:
- **Django 5.2+** - ุฅุทุงุฑ ุงูุนูู ุงูุฑุฆูุณู
- **PostgreSQL** - ูุงุนุฏุฉ ุงูุจูุงูุงุช
- **Redis/Valkey** - ุงูุชุฎุฒูู ุงููุคูุช ูุงูุทูุงุจูุฑ
- **Celery** - ุงูููุงู ุงูุฎูููุฉ ูุงูุฏูุฑูุฉ
- **Gunicorn** - ุฎุงุฏู WSGI ููุฅูุชุงุฌ
- **WhiteNoise** - ุฎุฏูุฉ ุงููููุงุช ุงูุซุงุจุชุฉ
- **Cloudflare Tunnel** - ุงููุตูู ุงูุขูู ุนุจุฑ ุงูุฅูุชุฑูุช (ุงุฎุชูุงุฑู)

### ุงููุญุฏุงุช ุงููุธูููุฉ:
- ุฅุฏุงุฑุฉ ุงูุนููุงุก ูุงูุทูุจุงุช
- ูุธุงู ุงููุนุงููุงุช ูุงูุชุฑููุจุงุช
- ุฅุฏุงุฑุฉ ุงููุฎุฒูู ูุงูููุชุฌุงุช
- ุงูุชุตููุน ูุงูุชูุทูุน
- ุงููุธุงู ุงููุญุงุณุจู
- ูุธุงู ุงูุดูุงูู ูุงูุฅุดุนุงุฑุงุช
- ุงููุณุฎ ุงูุงุญุชูุงุทู ุงูุชููุงุฆู

---

## ๐ป ูุชุทูุจุงุช ุงูุชุดุบูู {#ูุชุทูุจุงุช-ุงูุชุดุบูู}

### ูุชุทูุจุงุช ุงููุธุงู:
```bash
# ูุธุงู ุงูุชุดุบูู
Ubuntu 20.04+ / Debian 11+ / Linux Mint

# ุงูููุงุฑุฏ ุงูุฏููุง
- RAM: 2GB (4GB ููุตู ุจู)
- CPU: 2 Cores
- Storage: 20GB ูุณุงุญุฉ ุญุฑุฉ
```

### ุงูุจุฑุงูุฌ ุงููุทููุจุฉ:
```bash
# Python
Python 3.10+

# ูุงุนุฏุฉ ุงูุจูุงูุงุช
PostgreSQL 14+

# ุงูุชุฎุฒูู ุงููุคูุช
Redis 6+ ุฃู Valkey 7+

# ุฃุฏูุงุช ุงููุธุงู
git, curl, build-essential
```

### ุงูุชุญูู ูู ุงูุชุซุจูุช:
```bash
# ุงูุชุญูู ูู Python
python3 --version  # ูุฌุจ ุฃู ูููู 3.10+

# ุงูุชุญูู ูู PostgreSQL
psql --version

# ุงูุชุญูู ูู Redis/Valkey
redis-server --version  # ุฃู
valkey-server --version

# ุงูุชุญูู ูู Git
git --version
```

---

## ๐ง ุทุฑู ุชุดุบูู ุงููุธุงู {#ุทุฑู-ุชุดุบูู-ุงููุธุงู}

### 1๏ธโฃ ุงูุชุดุบูู ุจุฏูู Cloudflare Tunnel (ูุญูู/ุดุจูุฉ ูุญููุฉ)

ูุฐุง ุงูุฎูุงุฑ ููุงุณุจ ูููุตูู ูู ุงูุดุจูุฉ ุงููุญููุฉ ููุท.

```bash
cd /home/zakee/homeupdate
./ููููุณ/run-production-no-tunnel.sh
```

**ุนูุงููู ุงููุตูู:**
- ูุญูู: `http://localhost:8000`
- ุงูุดุจูุฉ ุงููุญููุฉ: `http://192.168.1.30:8000`

**ุงููููุฒุงุช:**
โ ูุง ูุญุชุงุฌ ุงุชุตุงู ุฅูุชุฑูุช
โ ุฃุณุฑุน ูุฃูุซุฑ ุงุณุชูุฑุงุฑุงู
โ ููุงุณุจ ููุดุจูุงุช ุงููุญููุฉ
โ ูุง ุชูุฌุฏ ุชูุงููู ุฅุถุงููุฉ

**ุงูุนููุจ:**
โ ูุง ูููู ุงููุตูู ูู ุงูุฅูุชุฑูุช
โ ูุญุชุงุฌ ุชูููู ุงูุฑุงูุชุฑ ูููุตูู ุงูุฎุงุฑุฌู

---

### 2๏ธโฃ ุงูุชุดุบูู ูุน Cloudflare Tunnel (ูุตูู ุนุจุฑ ุงูุฅูุชุฑูุช)

ูุฐุง ุงูุฎูุงุฑ ูุชูุญ ุงููุตูู ูู ุฃู ููุงู ุนุจุฑ ุงูุฅูุชุฑูุช.

```bash
cd /home/zakee/homeupdate
./ููููุณ/run-production.sh
```

**ุนูุงููู ุงููุตูู:**
- ุงูุฅูุชุฑูุช: `https://elkhawaga.uk`
- ูุญูู: `http://localhost:8000`

**ุงููููุฒุงุช:**
โ ูุตูู ุขูู ุนุจุฑ HTTPS
โ ูุง ูุญุชุงุฌ IP ุซุงุจุช
โ ุญูุงูุฉ ูู DDoS
โ ุดูุงุฏุฉ SSL ูุฌุงููุฉ

**ุงูุนููุจ:**
โ ูุญุชุงุฌ ุงุชุตุงู ุฅูุชุฑูุช ูุณุชูุฑ
โ ูุฏ ูููู ุฃุจุทุฃ ููููุงู

---

### 3๏ธโฃ ุงูุชุดุบูู ูุฎุฏูุฉ ูุธุงู (Systemd)

ููุชุดุบูู ุงูุชููุงุฆู ุนูุฏ ุจุฏุก ุงููุธุงู:

```bash
# ูุณุฎ ููู ุงูุฎุฏูุฉ
sudo cp /home/zakee/homeupdate/systemd/run-production.service /etc/systemd/system/

# ุฅุนุงุฏุฉ ุชุญููู systemd
sudo systemctl daemon-reload

# ุชูุนูู ุงูุฎุฏูุฉ
sudo systemctl enable run-production.service

# ุจุฏุก ุงูุฎุฏูุฉ
sudo systemctl start run-production.service

# ูุญุต ุงูุญุงูุฉ
sudo systemctl status run-production.service
```

**ุฃูุงูุฑ ุฅุฏุงุฑุฉ ุงูุฎุฏูุฉ:**
```bash
# ุฅููุงู ุงูุฎุฏูุฉ
sudo systemctl stop run-production.service

# ุฅุนุงุฏุฉ ุชุดุบูู ุงูุฎุฏูุฉ
sudo systemctl restart run-production.service

# ุนุฑุถ ุงูุณุฌูุงุช
sudo journalctl -u run-production.service -f
```

---

## ๐ ุจูุงูุงุช ุงูุฏุฎูู ุงูุงูุชุฑุงุถูุฉ

```
ุงููุณุชุฎุฏู: admin
ูููุฉ ุงููุฑูุฑ: admin123
```

โ๏ธ **ููู ุฌุฏุงู:** ูู ุจุชุบููุฑ ูููุฉ ุงููุฑูุฑ ููุฑุงู ุจุนุฏ ุฃูู ุชุณุฌูู ุฏุฎูู!

---

## ๐ ุงููุฑุงูุจุฉ ูุงูุตูุงูุฉ {#ุงููุฑุงูุจุฉ-ูุงูุตูุงูุฉ}

### ูุฑุงูุจุฉ ุงูุณุฌูุงุช:

```bash
# ุณุฌูุงุช Celery Worker (ุงูููุงู ุงูุฎูููุฉ)
tail -f /home/zakee/homeupdate/logs/celery_worker.log

# ุณุฌูุงุช Celery Beat (ุงูููุงู ุงูุฏูุฑูุฉ)
tail -f /home/zakee/homeupdate/logs/celery_beat.log

# ุณุฌูุงุช ุงููุณุฎ ุงูุงุญุชูุงุทู
tail -f /home/zakee/homeupdate/logs/db_backup.log

# ุณุฌูุงุช Django
tail -f /home/zakee/homeupdate/logs/django.log

# ุณุฌูุงุช ุงูุฃุฎุทุงุก
tail -f /home/zakee/homeupdate/logs/errors.log
```

### ูุญุต ุญุงูุฉ ุงูุฎุฏูุงุช:

```bash
# ูุญุต Redis/Valkey
redis-cli ping  # ูุฌุจ ุฃู ูุฑุฏ: PONG

# ูุญุต PostgreSQL
sudo systemctl status postgresql

# ูุญุต Celery Worker
ps aux | grep celery

# ูุญุต Gunicorn
ps aux | grep gunicorn
```

### ุงููุณุฎ ุงูุงุญุชูุงุทู:

ุงููุธุงู ูููู ุจุงููุณุฎ ุงูุงุญุชูุงุทู ุชููุงุฆูุงู ูู ุณุงุนุฉ.

**ูููุน ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ:**
```bash
/home/zakee/homeupdate/media/backups/
```

**ุงููุณุฎ ุงูุงุญุชูุงุทู ุงููุฏูู:**
```bash
# ูุณุฎุฉ ุงุญุชูุงุทูุฉ ููุฑูุฉ
cd /home/zakee/homeupdate
python manage.py dbbackup

# ุงุณุชุนุงุฏุฉ ุขุฎุฑ ูุณุฎุฉ ุงุญุชูุงุทูุฉ
python manage.py dbrestore
```

### ุชูุธูู ุฏูุฑู:

```bash
# ุชูุธูู ุงูุฅุดุนุงุฑุงุช ุงููุฏููุฉ
python manage.py cleanup_notifications

# ุชูุธูู ุงูุฌูุณุงุช ุงูููุชููุฉ
python manage.py clearsessions

# ุชูุธูู ูููุงุช ูุคูุชุฉ
rm -rf /home/zakee/homeupdate/temp/*
```

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก {#ุงุณุชูุดุงู-ุงูุฃุฎุทุงุก}

### ุงููุดููุฉ: ุงููุธุงู ูุง ูุนูู

```bash
# 1. ูุญุต ูุงุนุฏุฉ ุงูุจูุงูุงุช
sudo systemctl status postgresql
sudo systemctl restart postgresql

# 2. ูุญุต Redis
redis-cli ping
sudo systemctl restart redis

# 3. ูุญุต ุงูุณุฌูุงุช
tail -n 50 /home/zakee/homeupdate/logs/errors.log
```

### ุงููุดููุฉ: ุฎุทุฃ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

```bash
# ุชุทุจูู ุงูุชุฑุญููุงุช
cd /home/zakee/homeupdate
source venv/bin/activate
python manage.py migrate

# ูุญุต ุญุงูุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช
python manage.py monitor_db --once
```

### ุงููุดููุฉ: Celery ูุง ูุนูู

```bash
# ูุญุต ุงูุณุฌู
tail -n 100 /home/zakee/homeupdate/logs/celery_worker.log

# ุฅุนุงุฏุฉ ุชุดุบูู Celery
pkill -9 celery
cd /home/zakee/homeupdate
source venv/bin/activate
celery -A crm worker --loglevel=info --detach
```

### ุงููุดููุฉ: ุงููููุงุช ุงูุซุงุจุชุฉ ูุง ุชุธูุฑ

```bash
# ุฅุนุงุฏุฉ ุชุฌููุน ุงููููุงุช ุงูุซุงุจุชุฉ
cd /home/zakee/homeupdate
source venv/bin/activate
python manage.py collectstatic --noinput --clear
```

### ุงููุดููุฉ: ุจุทุก ูู ุงูุฃุฏุงุก

```bash
# ูุญุต ุงุณุชุฎุฏุงู ุงูููุงุฑุฏ
htop

# ูุญุต ุงูุงุณุชุนูุงูุงุช ุงูุจุทูุฆุฉ
tail -f /home/zakee/homeupdate/logs/slow_queries.log

# ูุญุต ูุงุนุฏุฉ ุงูุจูุงูุงุช
python manage.py monitor_db --once

# ุชุทุจูู ููุงุฑุณ ูุงุนุฏุฉ ุงูุจูุงูุงุช
python apply_ultimate_indexes.py
```

---

## ๐๏ธ ุฃูุงูุฑ ูููุฏุฉ

### ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู:

```bash
# ุฅูุดุงุก ูุณุชุฎุฏู ุฌุฏูุฏ (ุณูุจุฑ ููุฒุฑ)
python manage.py createsuperuser

# ุชุบููุฑ ูููุฉ ูุฑูุฑ ูุณุชุฎุฏู
python manage.py changepassword admin
```

### ุตูุงูุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช:

```bash
# ูุญุต ูุงุนุฏุฉ ุงูุจูุงูุงุช
python manage.py check

# ุนูู vacuum ููุงุนุฏุฉ ุงูุจูุงูุงุช
python manage.py dbshell
VACUUM ANALYZE;
\q
```

### ุชุญุฏูุซ ุงููุธุงู:

```bash
# ุณุญุจ ุขุฎุฑ ุงูุชุญุฏูุซุงุช
cd /home/zakee/homeupdate
git pull

# ุชุญุฏูุซ ุงูููุชุจุงุช
source venv/bin/activate
pip install -r requirements.txt --upgrade

# ุชุทุจูู ุงูุชุฑุญููุงุช
python manage.py migrate

# ุฌูุน ุงููููุงุช ุงูุซุงุจุชุฉ
python manage.py collectstatic --noinput

# ุฅุนุงุฏุฉ ุชุดุบูู ุงููุธุงู
./ููููุณ/run-production-no-tunnel.sh
```

---

## ๐ ููุงุญุธุงุช ูููุฉ

1. **ุงูุฃูุงู:**
   - ุบููุฑ ูููุฉ ุงููุฑูุฑ ุงูุงูุชุฑุงุถูุฉ ููุฑุงู
   - ุงุณุชุฎุฏู HTTPS ูู ุงูุฅูุชุงุฌ
   - ูู ุจุชุญุฏูุซ ุงููุธุงู ุจุงูุชุธุงู

2. **ุงูุฃุฏุงุก:**
   - ุฑุงูุจ ุงุณุชุฎุฏุงู ุงูููุงุฑุฏ
   - ูุธู ุงูุณุฌูุงุช ุงููุฏููุฉ ุฏูุฑูุงู
   - ุทุจูู ุงูููุงุฑุณ ุนูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

3. **ุงููุณุฎ ุงูุงุญุชูุงุทู:**
   - ุงููุธุงู ูุนูู ูุณุฎ ุงุญุชูุงุทู ุชููุงุฆู ูู ุณุงุนุฉ
   - ุงุญุชูุธ ุจูุณุฎ ุงุญุชูุงุทูุฉ ุฎุงุฑุฌูุฉ
   - ุงุฎุชุจุฑ ุงุณุชุนุงุฏุฉ ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ ุฏูุฑูุงู

4. **ุงููุฑุงูุจุฉ:**
   - ุฑุงูุจ ุงูุณุฌูุงุช ุจุงูุชุธุงู
   - ูุญุต ุญุงูุฉ ุงูุฎุฏูุงุช ููููุงู
   - ุชุงุจุน ุงุณุชููุงู ุงููุณุงุญุฉ

---

## ๐ ุงูุฏุนู ุงูููู

ูููุณุงุนุฏุฉ ุฃู ุงูุฅุจูุงุบ ุนู ูุดุงูู:
- ุฑุงุฌุน ุงูุณุฌูุงุช ูู `/home/zakee/homeupdate/logs/`
- ุชุญูู ูู ูููุงุช ุงูุชูุซูู ูู ุงููุฌูุฏ
- ูุญุต ุณุฌูุงุช systemd: `journalctl -u run-production.service`

---

## ๐ ุงูุฎูุงุตุฉ

### ููุชุดุบูู ุงูุณุฑูุน:

**ุจุฏูู ุฅูุชุฑูุช (ุดุจูุฉ ูุญููุฉ):**
```bash
./ููููุณ/run-production-no-tunnel.sh
```

**ูุน ุฅูุชุฑูุช (ูุตูู ุนุงู):**
```bash
./ููููุณ/run-production.sh
```

**ูุฎุฏูุฉ ุฏุงุฆูุฉ:**
```bash
sudo systemctl start run-production.service
```

---

**ุขุฎุฑ ุชุญุฏูุซ:** ุฏูุณูุจุฑ 2025
**ุงูุฅุตุฏุงุฑ:** 2.0
