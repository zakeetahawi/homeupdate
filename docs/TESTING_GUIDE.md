# دليل الاختبار السريع للتحديثات

## 1. اختبار تنسيق رقم العقد

### الخطوات:
1. افتح صفحة تفاصيل أي طلب يحتوي على عقد
2. ابحث عن بطاقة "معلومات العقد"
3. تحقق من رقم العقد

### النتيجة المتوقعة:
- يجب أن يكون التنسيق: `1-0020-2511-14`
- الترتيب: `ايدي الفرع - رقم الطلب - التاريخ - رقم العقد`

### ملاحظة:
- يجب أن يكون رقم العقد موجود فقط في بطاقة "معلومات العقد"
- لا يجب أن يظهر في بطاقة "معلومات الطلب"

---

## 2. اختبار عرض العقد PDF

### الخطوات:
1. افتح صفحة تفاصيل طلب
2. اضغط على "عرض العقد (جديد)"
3. تحقق من رأس العقد

### النتيجة المتوقعة:
- رقم العقد في الرأس بالتنسيق الصحيح: `1-0020-2511-14`

---

## 3. اختبار عرض الإكسسوارات في العقد

### الخطوات:
1. افتح عقد يحتوي على إكسسوارات
2. ابحث عن قسم الإكسسوارات في العقد

### النتيجة المتوقعة:
```
الإكسسوارات:
━━━━━━━━━━━━━━━━━━━━
كورنيش
  مقاس        عدد
  150سم        2
━━━━━━━━━━━━━━━━━━━━
```

- يجب ظهور كلمة "مقاس" فوق قيمة المقاس
- يجب ظهور كلمة "عدد" فوق قيمة العدد

---

## 4. اختبار ويزارد إضافة الستارة

### الخطوات:
1. افتح صفحة "إنشاء طلب جديد"
2. املأ المعلومات الأساسية حتى الخطوة 5 (العقد)
3. اضغط "إضافة ستارة جديدة"

### تسلسل الخطوات المتوقع:

#### الخطوة 1: معلومات الستارة
- اسم الغرفة
- العرض والطول
- نوع التركيب
- **زر:** "التالي - الأقمشة"

#### الخطوة 2: إضافة الأقمشة
- اختر نوع القماش
- اختر القماش من الفاتورة
- أدخل الكمية بالأمتار
- عدد القطع
- نوع التفصيل
- **زر:** "السابق" | "التالي - الإكسسوارات"

#### الخطوة 3: إضافة الإكسسوارات
- اختر "مع إكسسوار" أو تخطي
- اختر الإكسسوار من الفاتورة أو خارجي
- أدخل العدد
- أدخل المقاس (اختياري)
- أدخل اللون (اختياري)
- **زر:** "السابق" | "التالي - حفظ الستارة"

#### الخطوة 4: الملاحظات (جديد!)
- **ملخص:** اسم الغرفة - عدد الأقمشة - عدد الإكسسوارات
- حقل الملاحظات (اختياري)
- **زر:** "السابق" | "حفظ الستارة"

### النتيجة المتوقعة:
✅ الانتقال السلس بين الخطوات
✅ ظهور ملخص المعلومات في كل خطوة
✅ حقل الملاحظات منفصل تماماً عن قسم الإكسسوارات
✅ حفظ جميع البيانات عند الضغط على "حفظ الستارة"

---

## 5. اختبار التنقل بين الأقسام

### السيناريو:
1. ابدأ إضافة ستارة جديدة
2. أدخل معلومات الستارة واضغط "التالي"
3. أضف قماش واحد واضغط "التالي - الإكسسوارات"
4. اضغط "السابق" (يجب العودة للأقمشة)
5. اضغط "التالي - الإكسسوارات"
6. أضف إكسسوار واضغط "التالي - حفظ الستارة"
7. تحقق من وجود حقل الملاحظات
8. اضغط "السابق" (يجب العودة للإكسسوارات)

### النتيجة المتوقعة:
✅ التنقل يعمل في جميع الاتجاهات
✅ البيانات محفوظة عند التنقل
✅ الملاحظات في قسم منفصل

---

## حالات اختبار إضافية

### اختبار 1: ستارة بدون إكسسوارات
- أضف ستارة
- أضف أقمشة فقط
- لا تضع علامة على "مع إكسسوار"
- اضغط "التالي - حفظ الستارة"
- **المتوقع:** الانتقال مباشرة لقسم الملاحظات

### اختبار 2: ستارة بدون ملاحظات
- أضف ستارة كاملة
- اترك حقل الملاحظات فارغاً
- **المتوقع:** حفظ الستارة بنجاح بدون ملاحظات

### اختبار 3: تعديل ستارة موجودة
- اضغط "تعديل" على ستارة موجودة
- تحقق من تحميل جميع البيانات
- عدّل أي معلومات
- **المتوقع:** حفظ التعديلات بنجاح

---

## الأخطاء المحتملة وحلولها

### خطأ 1: رقم العقد بالتنسيق القديم
**السبب:** المتصفح يستخدم نسخة محفوظة من الملف
**الحل:** امسح الذاكرة المؤقتة (Ctrl+Shift+R) أو افتح في وضع التصفح المتخفي

### خطأ 2: عدم ظهور قسم الملاحظات
**السبب:** خطأ في JavaScript
**الحل:** افتح Developer Console (F12) وتحقق من الأخطاء

### خطأ 3: عدم حفظ البيانات
**السبب:** خطأ في الاتصال بالسيرفر
**الحل:** تحقق من سجل الأخطاء في السيرفر

---

## تقرير الاختبار

### الميزة 1: تنسيق رقم العقد
- [ ] ✅ يظهر بالتنسيق الصحيح في تفاصيل الطلب
- [ ] ✅ يظهر بالتنسيق الصحيح في العقد PDF
- [ ] ✅ غير موجود في بطاقة معلومات الطلب

### الميزة 2: عرض الإكسسوارات
- [ ] ✅ تظهر كلمة "مقاس" فوق قيمة المقاس
- [ ] ✅ تظهر كلمة "عدد" فوق قيمة العدد
- [ ] ✅ التنسيق واضح ومقروء

### الميزة 3: قسم الملاحظات المنفصل
- [ ] ✅ قسم الملاحظات منفصل عن الإكسسوارات
- [ ] ✅ الانتقال السلس بين الأقسام
- [ ] ✅ حفظ الملاحظات بنجاح

### الميزة 4: التنقل في الويزارد
- [ ] ✅ التنقل للأمام يعمل
- [ ] ✅ التنقل للخلف يعمل
- [ ] ✅ البيانات محفوظة عند التنقل

---

**تاريخ الاختبار:** ___________
**المختبر:** ___________
**النتيجة:** [ ] نجح [ ] فشل
**الملاحظات:** ___________
