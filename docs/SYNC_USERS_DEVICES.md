# ๐ ุณูุฑูุจุช ุฑุจุท ุงููุณุชุฎุฏููู ุจุงูุฃุฌูุฒุฉ

## ุงููููุน
๐ `/home/zakee/homeupdate/ููููุณ/sync_users_devices.py`

## ุงููุตู
ุณูุฑูุจุช ูุฑุจุท ุงููุณุชุฎุฏููู ุชููุงุฆูุงู ุจุฃุฌูุฒุฉ ูุฑูุนูู. ูุถูู ุฃู ูู ููุธู ูู ูุฑุน ูุนูู ูููู ูุฏูู ุตูุงุญูุฉ ุงููุตูู ูู ุฌููุน ุฃุฌูุฒุฉ ูุฑุนู.

## ุงูุงุณุชุฎุฏุงู

### ูู ูุฌูุฏ ุงููุดุฑูุน:
```bash
cd /home/zakee/homeupdate
python ููููุณ/sync_users_devices.py --status
```

### ุฃู ูู ูุฌูุฏ ุงูุณูุฑูุจุชุงุช:
```bash
cd /home/zakee/homeupdate/ููููุณ
python sync_users_devices.py --status
```

### 1. ุนุฑุถ ุงูุญุงูุฉ ุงูุญุงููุฉ
```bash
python sync_users_devices.py --status
```
ูุนุฑุถ ูุงุฆูุฉ ุจูู ุงููุฑูุน ูุงููุณุชุฎุฏููู ุงูุฐูู ููุณ ูุฏููู ุฃุฌูุฒุฉ ูุตุฑุญ ุจูุง.

### 2. ูุนุงููุฉ ุงูุชุบููุฑุงุช (Dry Run)
```bash
# ูุนุงููุฉ ูู ุงููุฑูุน
python sync_users_devices.py --dry-run

# ูุนุงููุฉ ูุฑุน ูุนูู
python sync_users_devices.py --branch "ูุฑุน ุงูุดูุฎ ุฒุงูุฏ" --dry-run
```

### 3. ุชูููุฐ ุงูุฑุจุท ุงููุนูู
```bash
# ุฑุจุท ุฌููุน ุงููุณุชุฎุฏููู ูู ูู ุงููุฑูุน
python sync_users_devices.py

# ุฑุจุท ูุณุชุฎุฏูู ูุฑุน ูุนูู ููุท
python sync_users_devices.py --branch "ูุฑุน ุงูุดูุฎ ุฒุงูุฏ"
```

## ุงูุฎูุงุฑุงุช

| ุงูุฎูุงุฑ | ุงูุงุฎุชุตุงุฑ | ุงููุตู |
|--------|----------|-------|
| `--status` | `-s` | ุนุฑุถ ุงูุญุงูุฉ ุงูุญุงููุฉ ููุท |
| `--branch BRANCH` | `-b` | ุชุญุฏูุฏ ูุฑุน ูุนูู |
| `--dry-run` | `-d` | ูุนุงููุฉ ุฏูู ุญูุธ |
| `--help` | `-h` | ุนุฑุถ ุงููุณุงุนุฏุฉ |

## ุฃูุซูุฉ

### ูุซุงู 1: ุฑุจุท ูุฑุน ุงูุฅุฏุงุฑุฉ
```bash
python sync_users_devices.py --branch "ุงูุงุฏุงุฑุฉ"
```

### ูุซุงู 2: ูุนุงููุฉ ูู ุงููุฑูุน
```bash
python sync_users_devices.py --dry-run
```

### ูุซุงู 3: ูุญุต ุงูุญุงูุฉ
```bash
python sync_users_devices.py --status
```

## ููุงุญุธุงุช ูููุฉ

1. **ุขูู**: ูุง ูุญุฐู ุงูุฃุฌูุฒุฉ ุงูููุฌูุฏุฉุ ููุท ูุถูู ุงูุฌุฏูุฏุฉ
2. **ุชููุงุฆู**: ูุณุชุฎุฏู ูุธุงู ุงูุฅุดุงุฑุงุช (Signals) ููุฑุจุท ุงูุชููุงุฆู ุงููุณุชูุจูู
3. **ูุงุจู ููุชุฑุงุฌุน**: ูููู ุฅุฒุงูุฉ ุงูุฃุฌูุฒุฉ ูุฏููุงู ูู ููุญุฉ ุงูุฅุฏุงุฑุฉ
4. **ูุญุฏูุฏ**: ุงูุญุฏ ุงูุฃูุตู 20 ุฌูุงุฒ ููู ูุณุชุฎุฏู (ููุง ูู ูุญุฏุฏ ูู ุงููููุฐุฌ)

## ููู ูุนูู

1. ูุญุตู ุนูู ูุงุฆูุฉ ุงููุฑูุน (ุฃู ูุฑุน ูุญุฏุฏ)
2. ููู ูุฑุนุ ูุญุตู ุนูู:
   - ุงููุณุชุฎุฏููู ุงููุดุทูู (`is_active=True`)
   - ุงูุฃุฌูุฒุฉ ุงููุดุทุฉ (`is_active=True`)
3. ูุฑุจุท ูู ูุณุชุฎุฏู ุจุฌููุน ุฃุฌูุฒุฉ ูุฑุนู
4. ูุนุฑุถ ุชูุฑูุฑ ุชูุตููู ุจุงููุชุงุฆุฌ

## ุงูุชูุงูู ูุน ุงููุธุงู

ุงูุณูุฑูุจุช ูุนูู ูุน:
- **Signals**: `accounts/signals/device_signals.py` ููุฑุจุท ุงูุชููุงุฆู
- **Migration**: `0049_add_authorized_devices_to_user.py`
- **Admin Panel**: ูููู ุฅุฏุงุฑุฉ ุงูุฃุฌูุฒุฉ ูู ููุญุฉ ุงูุฅุฏุงุฑุฉ

## ูุชู ุชุณุชุฎุฏููุ

- ุนูุฏ ุฅุถุงูุฉ ุฌูุงุฒ ุฌุฏูุฏ ููุฑุน
- ุนูุฏ ููู ููุธููู ุจูู ุงููุฑูุน (ุณูุชู ุชููุงุฆูุงู ุนุจุฑ Signals)
- ุนูุฏ ุงูุญุงุฌุฉ ููุฒุงููุฉ ุงููุธุงู ุจุนุฏ ุชุญุฏูุซ
- ููุชุฃูุฏ ูู ุฃู ูู ุงูููุธููู ูุฏููู ุตูุงุญูุงุช ุตุญูุญุฉ
