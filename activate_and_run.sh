#!/bin/bash
# ุณูุฑูุจุช ูุณุงุนุฏ ูุชุดุบูู ุงูุฃูุงูุฑ ูุน ุชูุนูู ุงูุจูุฆุฉ ุงูุงูุชุฑุงุถูุฉ ุชููุงุฆูุงู

# ุงูุฃููุงู
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
RED='\033[0;31m'
NC='\033[0m' # No Color

echo -e "${GREEN}๐ง ุชูุนูู ุงูุจูุฆุฉ ุงูุงูุชุฑุงุถูุฉ...${NC}"

# ุงูุชุญูู ูู ูุฌูุฏ venv
if [ ! -d "venv" ]; then
    echo -e "${RED}โ ุงูุจูุฆุฉ ุงูุงูุชุฑุงุถูุฉ ุบูุฑ ููุฌูุฏุฉ!${NC}"
    echo -e "${YELLOW}ุฅูุดุงุก ุจูุฆุฉ ุงูุชุฑุงุถูุฉ ุฌุฏูุฏุฉ...${NC}"
    python3 -m venv venv
fi

# ุชูุนูู ุงูุจูุฆุฉ ุงูุงูุชุฑุงุถูุฉ
source venv/bin/activate

echo -e "${GREEN}โ ุชู ุชูุนูู ุงูุจูุฆุฉ ุงูุงูุชุฑุงุถูุฉ${NC}"
echo -e "${GREEN}๐ Python: $(which python)${NC}"
echo -e "${GREEN}๐ฆ Pip: $(which pip)${NC}"
echo ""

# ุชุดุบูู ุงูุฃูุฑ ุงููุทููุจ
if [ $# -eq 0 ]; then
    # ุฅุฐุง ูู ูุชู ุชูุฑูุฑ ุฃูุฑุ ุงูุชุญ shell
    echo -e "${YELLOW}๐ก ุงูุจูุฆุฉ ุงูุงูุชุฑุงุถูุฉ ููุนูุฉ ุงูุขู${NC}"
    echo -e "${YELLOW}ููููู ุชุดุบูู ุงูุฃูุงูุฑ ูุจุงุดุฑุฉ${NC}"
    exec bash
else
    # ุชุดุบูู ุงูุฃูุฑ ุงููุทููุจ
    "$@"
fi
