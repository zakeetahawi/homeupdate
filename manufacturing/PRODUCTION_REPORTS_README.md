# ุชูุงุฑูุฑ ุฅูุชุงุฌ ุงููุตูุน - ุฏููู ุณุฑูุน
# Factory Production Reports - Quick Guide

## โ ุชู ุงูุชูููุฐ ุจูุฌุงุญ

ุชู ุฅูุดุงุก ูุธุงู ุดุงูู ูุชูุงุฑูุฑ ุฅูุชุงุฌ ุงููุตูุน ูุน ุฌููุน ุงูููุฒุงุช ุงููุทููุจุฉ.

## ๐ ุงููุตูู ุฅูู ุงููุธุงู

### ูู ุงููุงุฆูุฉ ุงูุฑุฆูุณูุฉ:
1. ุงูุชุญ ูุงุฆูุฉ **ุงููุตูุน** ูู ุดุฑูุท ุงูุชููู ุงูุนููู
2. ุงุฎุชุฑ **ุชูุงุฑูุฑ ุงูุฅูุชุงุฌ**

### ุงูุฑุงุจุท ุงููุจุงุดุฑ:
```
http://localhost:8000/manufacturing/production-reports/
```

## ๐ ุงูุตูุญุงุช ุงููุชุงุญุฉ

### 1. ููุญุฉ ุงูุชุญูู (Dashboard)
- **ุงูุฑุงุจุท**: `/manufacturing/production-reports/`
- **ุงูููุฒุงุช**:
  - ุฅุญุตุงุฆูุงุช ุนุงูุฉ (ุฅุฌูุงูู ุงูุชุญููุงุชุ ุนุฏุฏ ุงูุทูุจุงุชุ ุฅุฌูุงูู ุงูุฃูุชุงุฑ)
  - ููุงุชุฑ ูุชูุฏูุฉ (ุงูุชุงุฑูุฎุ ุงูุญุงูุงุชุ ุฎุท ุงูุฅูุชุงุฌุ ููุน ุงูุทูุจ)
  - ุฑุณูู ุจูุงููุฉ ุชูุงุนููุฉ
  - ูุงุฆูุฉ ุงููุณุชุฎุฏููู ุงูุฃูุซุฑ ูุดุงุทุงู

### 2. ุงูุชูุงุตูู (Detail View)
- **ุงูุฑุงุจุท**: `/manufacturing/production-reports/detail/`
- **ุงูููุฒุงุช**:
  - ุฌุฏูู ุชูุตููู ูุฌููุน ุชุญููุงุช ุงูุญุงูุฉ
  - ุชุฑููู ุงูุตูุญุงุช (50 ุณุฌู/ุตูุญุฉ)
  - ุฑูุงุจุท ูุจุงุดุฑุฉ ููุทูุจุงุช

### 3. ุงูุชุชุจุน ุงููููู (Daily Tracking)
- **ุงูุฑุงุจุท**: `/manufacturing/production-reports/daily-tracking/`
- **ุงูููุฒุงุช**:
  - ุนุฑุถ ุฅูุชุงุฌ ููู ูุญุฏุฏ
  - ุฅุญุตุงุฆูุงุช ููููุฉ
  - ุชูุฒูุน ุญุณุจ ุฎุท ุงูุฅูุชุงุฌ ูููุน ุงูุทูุจ

### 4. ุชุตุฏูุฑ Excel
- **ุงูุฑุงุจุท**: `/manufacturing/production-reports/export/excel/`
- **ุงูููุฒุงุช**:
  - ุชุตุฏูุฑ ุงุญุชุฑุงูู ูุน ุฏุนู ุงูุนุฑุจูุฉ
  - ุฌููุน ุจูุงูุงุช ุงูุนููุงุก ูุงููุตูุน
  - ุชูุณูู ูููู ูููุธู

## ๐ง ุงูุชูููู ุงูุชููู

### ุงูููุงุฐุฌ (Models)
- **ManufacturingStatusLog**: ูุณุฌู ุชููุงุฆูุงู ูู ุชุบููุฑ ูู ุญุงูุฉ ุฃูุฑ ุงูุชุตููุน
  - `previous_status`: ุงูุญุงูุฉ ุงูุณุงุจูุฉ
  - `new_status`: ุงูุญุงูุฉ ุงูุฌุฏูุฏุฉ
  - `changed_by`: ุงููุณุชุฎุฏู ุงููุณุคูู
  - `changed_at`: ุชุงุฑูุฎ ูููุช ุงูุชุบููุฑ
  - `notes`: ููุงุญุธุงุช

- **ProductionForecast**: ูุชุฎุฒูู ุชููุนุงุช ุงูุฅูุชุงุฌ (ุฌุงูุฒ ููุงุณุชุฎุฏุงู ุงููุณุชูุจูู)

### ุงูุฅุดุงุฑุงุช (Signals)
- **track_manufacturing_status_change**: ููุชูุท ุงูุญุงูุฉ ุงููุฏููุฉ ูุจู ุงูุญูุธ
- **log_manufacturing_status_change**: ูุณุฌู ุงูุชุบููุฑ ุจุนุฏ ุงูุญูุธ

### ุงูุนุฑูุถ (Views)
- `ProductionReportDashboardView`: ููุญุฉ ุงูุชุญูู ุงูุฑุฆูุณูุฉ
- `ProductionReportDetailView`: ุนุฑุถ ุงูุชูุงุตูู
- `DailyProductionTrackingView`: ุงูุชุชุจุน ุงููููู
- `export_production_report_excel`: ุชุตุฏูุฑ Excel

### ุงูููุงุฐุฌ (Forms)
- `ProductionReportFilterForm`: ููุชุฑุฉ ุงูุชูุงุฑูุฑ
- `ProductionForecastForm`: ุฅูุดุงุก ุชููุนุงุช
- `ExportColumnsForm`: ุงุฎุชูุงุฑ ุงูุฃุนูุฏุฉ ููุชุตุฏูุฑ
- `DateRangeForm`: ุงุฎุชูุงุฑ ูุทุงู ุงูุชุงุฑูุฎ

## ๐ ููููุฉ ุงูุงุณุชุฎุฏุงู

### 1. ุนุฑุถ ุชูุฑูุฑ ุฅูุชุงุฌ ููุชุฑุฉ ูุนููุฉ:
1. ุงูุชุญ ููุญุฉ ุชุญูู ุชูุงุฑูุฑ ุงูุฅูุชุงุฌ
2. ุญุฏุฏ ุชุงุฑูุฎ ุงูุจุฏุงูุฉ ูุงูููุงูุฉ
3. (ุงุฎุชูุงุฑู) ุญุฏุฏ ุงูุญุงูุฉ ุงูุฃุตููุฉ ูุงูุญุงูุฉ ุงูุฌุฏูุฏุฉ
4. (ุงุฎุชูุงุฑู) ุญุฏุฏ ุฎุท ุงูุฅูุชุงุฌ ุฃู ููุน ุงูุทูุจ
5. ุงุถุบุท "ุจุญุซ"

### 2. ุชุตุฏูุฑ ุงูุชูุฑูุฑ ุฅูู Excel:
1. ูู ุจุชุทุจูู ุงูููุงุชุฑ ุงููุทููุจุฉ
2. ุงุถุบุท ุนูู ุฒุฑ "ุชุตุฏูุฑ Excel"
3. ุณูุชู ุชูุฒูู ููู Excel ูุญุชูู ุนูู ุฌููุน ุงูุจูุงูุงุช

### 3. ุนุฑุถ ุฅูุชุงุฌ ููู ูุนูู:
1. ุงูุชุญ ุตูุญุฉ ุงูุชุชุจุน ุงููููู
2. ุงุฎุชุฑ ุงูุชุงุฑูุฎ ุงููุทููุจ
3. ุงุถุบุท "ุนุฑุถ"

### 4. ุนุฑุถ ุชูุงุตูู ุงูุชุญููุงุช:
1. ูู ููุญุฉ ุงูุชุญููุ ุงุถุบุท "ุนุฑุถ ุงูุชูุงุตูู"
2. ุณุชุธูุฑ ุฌุฏูู ูุงูู ุจุฌููุน ุงูุชุญููุงุช
3. ููููู ุงูุชููู ุจูู ุงูุตูุญุงุช

## ๐ ุงูููุงุชุฑ ุงููุชุงุญุฉ

- **ูุทุงู ุงูุชุงุฑูุฎ**: ูู ุชุงุฑูุฎ - ุฅูู ุชุงุฑูุฎ
- **ูู ุญุงูุฉ**: ุงูุญุงูุฉ ุงูุฃุตููุฉ ููุทูุจ
- **ุฅูู ุญุงูุฉ**: ุงูุญุงูุฉ ุงูุฌุฏูุฏุฉ ููุทูุจ
- **ุฎุท ุงูุฅูุชุงุฌ**: ููุชุฑุฉ ุญุณุจ ุฎุท ุฅูุชุงุฌ ูุนูู
- **ููุน ุงูุทูุจ**: ุชุฑููุจุ ููุชุฌุงุชุ ุฅูุณุณูุงุฑุงุชุ ุชุนุฏูู

## ๐ ุงูุฅุญุตุงุฆูุงุช ุงููุชุงุญุฉ

### ูู ููุญุฉ ุงูุชุญูู:
- ุฅุฌูุงูู ุนุฏุฏ ุงูุชุญููุงุช
- ุนุฏุฏ ุงูุทูุจุงุช ุงููุฑูุฏุฉ
- ุฅุฌูุงูู ุงูุฃูุชุงุฑ
- ุชูุฒูุน ุงูุชุญููุงุช ุญุณุจ ุงูุญุงูุฉ (ุฑุณู ุจูุงูู ุฏุงุฆุฑู)
- ุงูุชุญููุงุช ุงูููููุฉ (ุฑุณู ุจูุงูู ุฎุทู)
- ุงููุณุชุฎุฏููู ุงูุฃูุซุฑ ูุดุงุทุงู

### ูู ุงูุชุชุจุน ุงููููู:
- ุฅุฌูุงูู ุงูุชุญููุงุช ููููู
- ุนุฏุฏ ุงูุทูุจุงุช ุงูููุชููุฉ
- ุนุฏุฏ ุงูุทูุจุงุช ููุฏ ุงูุชุตููุน
- ุนุฏุฏ ุงูุทูุจุงุช ุงููุณููุฉ
- ุชูุฒูุน ุญุณุจ ุฎุท ุงูุฅูุชุงุฌ
- ุชูุฒูุน ุญุณุจ ููุน ุงูุทูุจ

## ๐ ุงูุตูุงุญูุงุช ุงููุทููุจุฉ

- ูุฌุจ ุชุณุฌูู ุงูุฏุฎูู
- ุตูุงุญูุฉ `manufacturing.view_manufacturingorder`

## ๐๏ธ ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุงูุฌุฏูู ุงูุฑุฆูุณู:
```sql
manufacturing_manufacturingstatuslog
- id
- manufacturing_order_id
- previous_status
- new_status
- changed_by_id
- changed_at
- notes
```

### ุงูููุงุฑุณ (Indexes):
- `manufacturing_order_id, changed_at DESC`
- `new_status, changed_at`
- `changed_by_id, changed_at`

## ๐จ ุงูุชุฎุตูุต

### ุชุบููุฑ ุนุฏุฏ ุงูุณุฌูุงุช ูู ุงูุตูุญุฉ:
ูู `views_production_reports.py`:
```python
class ProductionReportDetailView(LoginRequiredMixin, PermissionRequiredMixin, ListView):
    paginate_by = 50  # ุบูุฑ ูุฐุง ุงูุฑูู
```

### ุฅุถุงูุฉ ููุงุชุฑ ุฌุฏูุฏุฉ:
1. ุฃุถู ุงูุญูู ูู `forms_production_reports.py`
2. ุฃุถู ุงูููุชุฑ ูู `get_queryset()` ูู ุงูู View
3. ุฃุถู ุงูุญูู ูู ุงููุงูุจ

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ูุง ุชุธูุฑ ุงูุณุฌูุงุช:
- ุชุฃูุฏ ูู ูุฌูุฏ ุชุบููุฑุงุช ูู ุญุงูุงุช ุฃูุงูุฑ ุงูุชุตููุน
- ุชุญูู ูู ูุทุงู ุงูุชุงุฑูุฎ ุงููุญุฏุฏ
- ุชุฃูุฏ ูู ุฃู ุงูููุงุชุฑ ููุณุช ูููุฏุฉ ุฌุฏุงู

### ุฎุทุฃ ูู ุงูุชุตุฏูุฑ:
- ุชุฃูุฏ ูู ุชุซุจูุช `xlsxwriter`:
  ```bash
  pip install xlsxwriter
  ```

### ูุง ุชุธูุฑ ูุนูููุงุช ุงููุณุชุฎุฏู:
- ุชุฃูุฏ ูู ุฃู ุงูููุฏ ููุฑุฑ `_changed_by` ุนูุฏ ุชุญุฏูุซ ุงูุญุงูุฉ:
  ```python
  order._changed_by = request.user
  order.save()
  ```

## ๐ ุงูุฏุนู

ูููุณุงุนุฏุฉ ุฃู ุงูุฅุจูุงุบ ุนู ูุดุงููุ ูุฑุฌู ุงูุชูุงุตู ูุน ูุฑูู ุงูุชุทููุฑ.

---

**ุชุงุฑูุฎ ุงูุฅูุดุงุก**: 2025-10-08  
**ุงูุฅุตุฏุงุฑ**: 1.0  
**ุงูุญุงูุฉ**: โ ุฌุงูุฒ ููุงุณุชุฎุฏุงู

