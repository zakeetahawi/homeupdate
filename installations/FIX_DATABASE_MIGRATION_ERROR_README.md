# ุฅุตูุงุญ ุฎุทุฃ ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุฅุถุงูุฉ ุงููุฌุฑุงุช

## ุงููุดููุฉ

ูุงู ููุงู ุฎุทุฃ `ProgrammingError` ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุญูุซ ูุง ููุฌุฏ ุนููุฏ `location_type` ูู ุฌุฏูู `orders_order`ุ ููุง ุชุณุจุจ ูู ูุดู ุงููุธุงู ุนูุฏ ูุญุงููุฉ ุงููุตูู ุฅูู ูุฐุง ุงูุญูู.

### ุฑุณุงูุฉ ุงูุฎุทุฃ:
```
ProgrammingError at /installations/
column orders_order.location_type does not exist
LINE 1: ...elivery_type", "orders_order"."delivery_address", "orders_or...
                                                             ^
```

## ุงูุณุจุจ

ุชู ุฅุถุงูุฉ ุญูู `location_type` ุฅูู ููุงุฐุฌ `Order` ู `InstallationSchedule` ูู ุงูููุฏุ ููู ูู ูุชู ุฅูุดุงุก ูุชุทุจูู ุงููุฌุฑุงุช (migrations) ูุชุญุฏูุซ ูุงุนุฏุฉ ุงูุจูุงูุงุช.

## ุงูุญู ุงููุทุจู

ุชู ุฅูุดุงุก ูุชุทุจูู ุงููุฌุฑุงุช ุงููุทููุจุฉ ูุฅุถุงูุฉ ุญูู `location_type` ุฅูู ูุงุนุฏุฉ ุงูุจูุงูุงุช.

### ุงูุฎุทูุงุช ุงููุทุจูุฉ:

#### 1. ุฅูุดุงุก ูุฌุฑุฉ ูุญูู location_type ูู ูููุฐุฌ Order
```bash
python manage.py makemigrations orders --name add_location_type_to_order
```

**ุงููุชูุฌุฉ:**
```
Migrations for 'orders':
  orders/migrations/0006_add_location_type_to_order.py
    - Add field location_type to order
    - Alter field installation_status on order
```

#### 2. ุฅูุดุงุก ูุฌุฑุฉ ูุญูู location_type ูู ูููุฐุฌ InstallationSchedule
```bash
python manage.py makemigrations installations --name add_location_type_to_installationschedule
```

**ุงููุชูุฌุฉ:**
```
Migrations for 'installations':
  installations/migrations/0006_add_location_type_to_installationschedule.py
    - Add field location_type to installationschedule
```

#### 3. ุชุทุจูู ุงููุฌุฑุงุช
```bash
python manage.py migrate
```

**ุงููุชูุฌุฉ:**
```
Operations to perform:
  Apply all migrations: accounts, admin, auth, contenttypes, customers, django_apscheduler,
 inspections, installations, inventory, manufacturing, odoo_db_manager, orders, reports, se
ssions, token_blacklist
Running migrations:
  Applying installations.0006_add_location_type_to_installationschedule... OK
  Applying orders.0006_add_location_type_to_order... OK
```

## ุงููููุงุช ุงูููุดุฃุฉ

### 1. orders/migrations/0006_add_location_type_to_order.py
```python
# Generated by Django 4.2.21 on 2025-07-19 17:10:15

from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('orders', '0005_order_related_inspection_type'),
    ]

    operations = [
        migrations.AddField(
            model_name='order',
            name='location_type',
            field=models.CharField(
                blank=True,
                choices=[('open', 'ููุชูุญ'), ('compound', 'ูููุจููุฏ')],
                help_text='ููุน ุงูููุงู (ููุชูุญ ุฃู ูููุจููุฏ)',
                max_length=20,
                null=True,
                verbose_name='ููุน ุงูููุงู'
            ),
        ),
        migrations.AlterField(
            model_name='order',
            name='installation_status',
            field=models.CharField(
                blank=True,
                choices=[
                    ('needs_scheduling', 'ุจุญุงุฌุฉ ุฌุฏููุฉ'),
                    ('scheduled', 'ูุฌุฏูู'),
                    ('in_installation', 'ููุฏ ุงูุชุฑููุจ'),
                    ('completed', 'ููุชูู'),
                    ('cancelled', 'ููุบู'),
                    ('modification_required', 'ูุญุชุงุฌ ุชุนุฏูู'),
                    ('modification_in_progress', 'ุงูุชุนุฏูู ููุฏ ุงูุชูููุฐ'),
                    ('modification_completed', 'ุงูุชุนุฏูู ููุชูู')
                ],
                max_length=30,
                null=True,
                verbose_name='ุญุงูุฉ ุงูุชุฑููุจ'
            ),
        ),
    ]
```

### 2. installations/migrations/0006_add_location_type_to_installationschedule.py
```python
# Generated by Django 4.2.21 on 2025-07-19 17:10:15

from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('installations', '0005_alter_installationschedule_scheduled_date_and_more'),
    ]

    operations = [
        migrations.AddField(
            model_name='installationschedule',
            name='location_type',
            field=models.CharField(
                blank=True,
                choices=[('open', 'ููุชูุญ'), ('compound', 'ูููุจููุฏ')],
                help_text='ููุน ุงูููุงู (ููุชูุญ ุฃู ูููุจููุฏ)',
                max_length=20,
                null=True,
                verbose_name='ููุน ุงูููุงู'
            ),
        ),
    ]
```

## ุงููุชุงุฆุฌ ุงููุชููุนุฉ

### โ **ุฅุตูุงุญ ุฎุทุฃ ProgrammingError**
- ุฅุฒุงูุฉ ุฎุทุฃ `column orders_order.location_type does not exist`
- ุนูู ุงููุธุงู ุจุดูู ุตุญูุญ
- ุฅููุงููุฉ ุงููุตูู ูุตูุญุฉ ุงูุชุฑููุจุงุช

### โ **ุฅุถุงูุฉ ุญูู location_type**
- ุฅุถุงูุฉ ุนููุฏ `location_type` ุฅูู ุฌุฏูู `orders_order`
- ุฅุถุงูุฉ ุนููุฏ `location_type` ุฅูู ุฌุฏูู `installations_installationschedule`
- ุฏุนู ุฎูุงุฑุงุช: ููุชูุญุ ูููุจููุฏ

### โ **ุชุญุณูู ุงุณุชูุฑุงุฑ ุงููุธุงู**
- ุฅุฒุงูุฉ ุงูุฃุฎุทุงุก ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุชุญุณูู ุฃุฏุงุก ุงููุธุงู
- ุชูููู ุงูุฃุฎุทุงุก ูู ุงูุฅูุชุงุฌ

## ููููุฉ ุงูุงุฎุชุจุงุฑ

### 1. ุงุฎุชุจุงุฑ ุชุดุบูู ุงูุฎุงุฏู
1. ุชุดุบูู ุงูุฎุงุฏู: `python manage.py runserver`
2. ุชุญูู ูู ุนุฏู ุธููุฑ ุฎุทุฃ `ProgrammingError`
3. ุชุญูู ูู ุนูู ุงููุธุงู ุจุดูู ุตุญูุญ

### 2. ุงุฎุชุจุงุฑ ุตูุญุฉ ุงูุชุฑููุจุงุช
1. ุงูุชูู ุฅูู `/installations/`
2. ุชุญูู ูู ุนุฏู ุธููุฑ ุฎุทุฃ ูุงุนุฏุฉ ุงูุจูุงูุงุช
3. ุชุญูู ูู ุนุฑุถ ุงูุจูุงูุงุช ุจุดูู ุตุญูุญ

### 3. ุงุฎุชุจุงุฑ ุญูู location_type
1. ุชุญูู ูู ูุฌูุฏ ุญูู `location_type` ูู ุงูููุงุฐุฌ
2. ุชุญูู ูู ุญูุธ ุงูุจูุงูุงุช ุจุดูู ุตุญูุญ
3. ุชุญูู ูู ุนุฑุถ ุฎูุงุฑุงุช ููุน ุงูููุงู

### 4. ุงุฎุชุจุงุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช
1. ุชุญูู ูู ูุฌูุฏ ุนููุฏ `location_type` ูู ุงูุฌุฏุงูู
2. ุชุญูู ูู ุนูู ุงูุงุณุชุนูุงูุงุช
3. ุชุญูู ูู ุญูุธ ุงูุจูุงูุงุช ุงูุฌุฏูุฏุฉ

## ููุงุญุธุงุช ุชูููุฉ

### 1. ุงููุฌุฑุงุช (Migrations)
- ุชู ุฅูุดุงุก ูุฌุฑุงุช ุฌุฏูุฏุฉ ููุญููู ุงููุถุงูุฉ
- ุชู ุชุทุจูู ุงููุฌุฑุงุช ุจูุฌุงุญ
- ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุญุฏุซุฉ ุจุงููุงูู

### 2. ุญูู location_type
- ููุน ุงูุญูู: `CharField`
- ุฎูุงุฑุงุช: ููุชูุญุ ูููุจููุฏ
- ูุงุจู ููุฅุถุงูุฉ ุฅูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุงุฎุชูุงุฑู (blank=True, null=True)

### 3. ุงูุชูุงูู
- ุงููุธุงู ูุชูุงูู ูุน ุฌููุน ุฅุตุฏุงุฑุงุช Django
- ูุง ูุคุซุฑ ุนูู ุงููุธุงุฆู ุงูุฃุฎุฑู
- ุงูุญูุงุธ ุนูู ุงูุชูุงูู ูุน ุงูุฃูุธูุฉ ุงูุฃุฎุฑู

## ููุงุฑูุฉ ูุจู ูุจุนุฏ

### ูุจู ุงูุฅุตูุงุญ
- ุฎุทุฃ `ProgrammingError` ุนูุฏ ุงููุตูู ูุตูุญุฉ ุงูุชุฑููุจุงุช
- ุนุฏู ูุฌูุฏ ุนููุฏ `location_type` ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุนุฏู ุนูู ุงููุธุงู
- ุฃุฎุทุงุก ูู ุงูุฅูุชุงุฌ

### ุจุนุฏ ุงูุฅุตูุงุญ
- ุนูู ุงููุธุงู ุจุดูู ุตุญูุญ
- ูุฌูุฏ ุนููุฏ `location_type` ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุนูู ุงููุธุงู ุจุดูู ูุงูู
- ุงุณุชูุฑุงุฑ ูู ุงูุฅูุชุงุฌ

## ุงุณุชูุชุงุฌ

ุชู ุฅุตูุงุญ ุงููุดููุฉ ุจูุฌุงุญ:

1. **ุฅูุดุงุก ุงููุฌุฑุงุช ุงููุทููุจุฉ** ูุญูู `location_type`
2. **ุชุทุจูู ุงููุฌุฑุงุช ุจูุฌุงุญ** ุนูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
3. **ุฅุตูุงุญ ุฎุทุฃ `ProgrammingError`** ูุฅุฒุงูุฉ ุงูุฃุฎุทุงุก

ุงูุขู ูุนูู ุงููุธุงู ุจุดูู ุตุญูุญ ููููู ุงููุตูู ูุฌููุน ุงูุตูุญุงุช ุจุฏูู ุฃุฎุทุงุก! ๐ฏ

## ููุงุญุธุงุช ุฅุถุงููุฉ

### 1. ุงูููุงูุฉ ูู ุงูุฃุฎุทุงุก ุงููุณุชูุจููุฉ
- ุงูุชุฃูุฏ ูู ุฅูุดุงุก ุงููุฌุฑุงุช ุนูุฏ ุฅุถุงูุฉ ุญููู ุฌุฏูุฏุฉ
- ุงุฎุชุจุงุฑ ุงููุธุงู ุจุนุฏ ุฅุถุงูุฉ ุงูููุงุฐุฌ
- ูุฑุงุฌุนุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุจู ุงููุดุฑ

### 2. ุชุญุณููุงุช ููุชุฑุญุฉ
- ุฅุถุงูุฉ ุงุฎุชุจุงุฑุงุช ูุญุฏุฉ ูููุฌุฑุงุช
- ุชุญุณูู ุฃุฏุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุฅุถุงูุฉ ูุญูุตุงุช ุณูุงูุฉ ุงูุจูุงูุงุช

### 3. ุงูุตูุงูุฉ
- ูุฑุงูุจุฉ ุฃุฏุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุชุญุฏูุซ ุงููุฌุฑุงุช ุญุณุจ ุงูุญุงุฌุฉ
- ุชุญุณูู ุงูุงุณุชุนูุงูุงุช

## ููููุฉ ุชุฌูุจ ูุฐุง ุงูุฎุทุฃ ูู ุงููุณุชูุจู

### 1. ุนูุฏ ุฅุถุงูุฉ ุญููู ุฌุฏูุฏุฉ
```bash
# ุฅูุดุงุก ุงููุฌุฑุงุช
python manage.py makemigrations app_name --name descriptive_name

# ุชุทุจูู ุงููุฌุฑุงุช
python manage.py migrate

# ุงุฎุชุจุงุฑ ุงููุธุงู
python manage.py runserver
```

### 2. ุนูุฏ ุชุนุฏูู ุงูููุงุฐุฌ
- ุงูุชุฃูุฏ ูู ุฅูุดุงุก ุงููุฌุฑุงุช
- ุงุฎุชุจุงุฑ ุงูููุงุฐุฌ ุจุนุฏ ุงูุชุนุฏูู
- ูุฑุงุฌุนุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช

### 3. ุนูุฏ ุงููุดุฑ
- ุชุทุจูู ุงููุฌุฑุงุช ูู ุงูุจูุฆุฉ ุงูุฅูุชุงุฌูุฉ
- ุงุฎุชุจุงุฑ ุงููุธุงู ุจุนุฏ ุงููุดุฑ
- ูุฑุงูุจุฉ ุงูุฃุฎุทุงุก

## ุงุณุชูุชุงุฌ ููุงุฆู

ุชู ุฅุตูุงุญ ุฎุทุฃ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุจูุฌุงุญ ูู ุฎูุงู ุฅูุดุงุก ูุชุทุจูู ุงููุฌุฑุงุช ุงููุทููุจุฉ. ุงูุขู ูุนูู ุงููุธุงู ุจุดูู ุตุญูุญ ููููู ุงููุตูู ูุฌููุน ุงูุตูุญุงุช ุจุฏูู ุฃุฎุทุงุก. ูุฐุง ุงูุฅุตูุงุญ ูุญุณู ูู ุงุณุชูุฑุงุฑ ุงููุธุงู ููุถูู ุชูุงูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุน ุงูููุงุฐุฌ ุงููุญุฏุซุฉ. 